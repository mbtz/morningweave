# MorningWeave configuration
# Generated by `morningweave init`.
version: 1

global:
  # default_schedule uses 5-field cron (min hour dom mon dow).
  default_schedule: "0 7 * * *"
  languages:
    - en
    - no
  digest:
    word_cap: 320
    max_items: 10

email:
  provider: "resend"
  from: "MorningWeave <you@example.com>"
  to:
    - "you@example.com"
  subject: "MorningWeave Digest - {{date}}"
  resend:
    api_key_ref: "keychain:resend"
  smtp:
    host: "smtp.example.com"
    port: 587
    username: "you@example.com"
    password_ref: "keychain:smtp"

# Plaintext secrets (fallback only). Prefer keychain/1Password for real usage.
# Use references like secrets:resend or env:RESEND_API_KEY in config fields.
secrets:
  values: {}

platforms:
  reddit:
    enabled: false
    weight: 1.0
    credentials_ref: "keychain:reddit"
    sources:
      subreddits:
        - "golang"
      users: []
      keywords: []
    # source_weights maps identifiers to weights per source type (optional).
    # Example:
    # source_weights:
    #   subreddits:
    #     golang: 1.2
    source_weights: {}
  x:
    enabled: false
    weight: 1.0
    credentials_ref: "keychain:x"
    sources:
      users: []
      keywords: []
      lists: []
    source_weights: {}
  instagram:
    enabled: false
    weight: 1.0
    credentials_ref: "keychain:instagram"
    sources:
      accounts: []
      hashtags: []
    source_weights: {}
  hn:
    enabled: true
    weight: 1.0
    sources:
      lists:
        - "top"
        - "best"
      keywords: []
    source_weights: {}

tags:
  - name: "ai"
    keywords:
      - "llm"
      - "machine learning"
    # schedule uses 5-field cron (min hour dom mon dow).
    schedule: "0 7 * * *"
    language:
      - "en"
    recipients:
      - "you@example.com"
    weight: 1.0

categories: []

logging:
  level: "info"
  retention_days: 30

storage:
  path: "data/morningweave.db"
  seen_retention_days: 45
